<div class="product-list-container">
  <!-- Container superior para botões e busca -->
  <div class="header-container">
    <div class="left-actions">
      <button *ngIf="isManager" (click)="addProduct()" class="add-product-btn">Adicionar Produto</button>
      <input type="text" [(ngModel)]="searchText" (input)="search()" placeholder="Buscar produto..." class="search-input">
    </div>
    <button (click)="logout()" class="logout-btn">Logout</button>
  </div>

  <!-- Título da lista -->
  <h2>Lista de Produtos</h2>

  <!-- Tabela de produtos -->
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Unidade</th>
        <th>Preço</th>
        <th>Ativo</th>
        <th *ngIf="isManager">Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products">
        <td>{{ product.id }}</td>
        <td>{{ product.name }}</td>
        <td>{{ product.unit }}</td>
        <td>R$ {{ formatPrice(product.price) }}</td>
        <td>{{ product.active ? 'Sim' : 'Não' }}</td>
        <td *ngIf="isManager">
          <button (click)="editProduct(product.id)" class="edit-btn">
            <i class="fas fa-edit"></i> Editar
          </button>
          <button (click)="openDeleteModal(product.id, product.name)" class="delete-btn">
            <i class="fas fa-trash-alt"></i> Excluir
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Modal de Exclusão -->
<app-product-delete 
  *ngIf="showDeleteModal" 
  [productName]="productToDeleteName" 
  (confirmDelete)="handleDeleteConfirmation($event)">
</app-product-delete>